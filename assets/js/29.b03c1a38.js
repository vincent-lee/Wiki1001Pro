(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{300:function(e,n,t){"use strict";t.r(n);var r=t(47),s=Object(r.a)({},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"a004-初识electron"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#a004-初识electron","aria-hidden":"true"}},[e._v("#")]),e._v(" A004_初识Electron")]),e._v(" "),t("p",[e._v("之前有个需求，说是可能会用到"),t("code",[e._v("electron")]),e._v("，于是稍微了解了一下，顺便做个记录。\n对于初学者而言，我最关心的往往不是这个框架的内核，而是我多久能打出HelloWord，能不能满足业务需求，我投入的时间与我收获的东西等不等值（当然这一点毋庸置疑是不等值的😭）？\n虽然对"),t("code",[e._v("electron")]),e._v("什么也不懂，没关系，上来就是萌新三连先百度一哈看看。")]),e._v(" "),t("h2",{attrs:{id:"_01-啥是electron？"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_01-啥是electron？","aria-hidden":"true"}},[e._v("#")]),e._v(" &01.啥是electron？")]),e._v(" "),t("p",[e._v("感谢seo优化逻辑，百度第一行这串字")]),e._v(" "),t("div",{staticClass:"language-markdown line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-markdown"}},[t("code",[e._v("使用 JavaScript, HTML 和 CSS 构建跨平台的桌面应用\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("就很好的解释了啥是electron。什么？你还不懂？好吧，我也不懂但我看着解释一哈。")]),e._v(" "),t("p",[t("code",[e._v("桌面应用")]),e._v("就是针对于pc端的各种系统（win/mac/linux）的应用程序。就好像开发移动端的小程序一样，用前端语言模拟开发Android/ios应用，electron能用前端语言开发pc端的应用。")]),e._v(" "),t("p",[e._v("electron作为一种为"),t("code",[e._v("前端开发者")]),e._v("（或说是js/html/css语言的使用者）所开发的一种能用前端语言生成桌面应用的框架。\n你只需要要和往常一样编写你的前端代码，诸如布局样式，页面交互，数据处理，请求响应等等。而当你编写完成，下达了打包的命令后，electron会帮你生成对应的桌面应用。\n也就是说，如果没什么细节的配置要求，你只管写你的前端代码，怎么生成桌面应用就是一句命令的事。")]),e._v(" "),t("p",[t("strong",[e._v("啥是electron？")])]),e._v(" "),t("p",[e._v("electron是个框架，给它个命令，它能生成桌面应用，Over.")]),e._v(" "),t("h2",{attrs:{id:"_02-为啥用electron？"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_02-为啥用electron？","aria-hidden":"true"}},[e._v("#")]),e._v(" &02.为啥用electron？")]),e._v(" "),t("p",[e._v("贴一下之前整理的几点笔记：")]),e._v(" "),t("p",[t("strong",[e._v("简要")])]),e._v(" "),t("ul",[t("li",[e._v("Electron 跨系统 开发框架")]),e._v(" "),t("li",[e._v("Electron 通过将Chromium和Node.js合并到同一个运行时环境中，并将其打包为 Mac ，Windows 和 Linux 系统下的应用来实现这一目的。同时也支持跨平台开发，诸如移动端APP,小程序,H5等，但适应性不及原生的跨平台开发框架(Weex,DCloud...)")])]),e._v(" "),t("p",[t("strong",[e._v("框架特性")])]),e._v(" "),t("ul",[t("li",[e._v("开源")]),e._v(" "),t("li",[e._v("客户端vs浏览器端 （安全性，用户体验，本地工具...）")]),e._v(" "),t("li",[e._v("适应多系统的运行环境")]),e._v(" "),t("li",[e._v("适应系统下原生的通讯联动（系统提示/任务栏常驻/崩溃监控/开机自启...）")]),e._v(" "),t("li",[e._v("个人信息、操作日志的本地化数据库存储")]),e._v(" "),t("li",[e._v("适配部分 chrome 的 crx 扩展插件")]),e._v(" "),t("li",[e._v("打包文件大(几十兆，至少包含一个浏览器程序大小)，吃内存 ## 开发 ##")]),e._v(" "),t("li",[e._v("在 /src/renderer/ 渲染进程内 进行 vue 项目开发;vue配套的工具插件(axios,vuex,router...)照常使用")]),e._v(" "),t("li",[e._v("一个主进程与多个渲染进程 模拟 多页面/多弹窗 的情景")]),e._v(" "),t("li",[e._v("Electron 版本发布相当频繁")]),e._v(" "),t("li",[e._v("Electron 不支持 Web Worker 多进程，使用 background process & 缓存机制")]),e._v(" "),t("li",[e._v("不同系统间存在部分api差异")]),e._v(" "),t("li",[e._v("自动更新 autoUpdater win&mac , 不支持Linux")]),e._v(" "),t("li",[e._v("NeDB 嵌入式持久数据库 & 浏览器端缓存机制")]),e._v(" "),t("li",[e._v("使用fs操作系统文件")])]),e._v(" "),t("p",[t("strong",[e._v("为啥用electron？")])]),e._v(" "),t("p",[e._v("不需要额外的编写，把原来写好的前端代码搬到electron对应渲染目录下即可，快速构建一个桌面应用，还能同时适配（并非百分百适配）三个操作系统，是网页服务端向PC应用端过渡的一个不错方案，Over.")]),e._v(" "),t("h2",{attrs:{id:"_03-怎么用electron？"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_03-怎么用electron？","aria-hidden":"true"}},[e._v("#")]),e._v(" &03.怎么用electron？")]),e._v(" "),t("p",[e._v("emm...那我要怎么用呢？如果仅仅是知道了啥是electron，那想真正玩起来还是蛮麻烦的，你可能还会遇到不少问题，还是要看不少博客文章，当然这都是正常的。")]),e._v(" "),t("p",[e._v("打开"),t("a",{attrs:{href:"https://electronjs.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("官网"),t("OutboundLink")],1),e._v("，快速浏览下网站，你会发现官网有一个快速入门的demo。")]),e._v(" "),t("p",[e._v("我下过来看了一哈，感觉就真的是一个"),t("code",[e._v("入门")]),e._v("demo，没啥特殊的。反倒是怎么把入门demo跑起来倒花了我点时间，因为electron的下载可能需要外网资源，所以会遇到安装失败的情况，解决办法就是使用cnpm淘宝镜像源。")]),e._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("//npm安装electron要从国外下载一个45MB左右的zip包，\n//特别的慢（8KB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(".），所以我们可以采用下面的这条安装命令。\n//条安装命令会从淘宝的镜像站下载这个zip包，速度很快。 \n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" electron -g --registry"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("http://registry.npm.taobao.org\n// 当然你也可以使用cnpm来全局安装electron \n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" cnpm -g --registry"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("http://registry.npm.taobao.org \n$ cnpm "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" electron -g\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br")])]),t("p",[e._v("你可以用electron白手起家，跟着demo自己边学边造一个工程出来；也可以在demo的基础上改改接着开发；或者呢找找看有没有脚手架之类的。")]),e._v(" "),t("p",[e._v("因为我之前是学习的vue，所以看到 vue-cli + electron 的关键字后就感到特别亲切。")]),e._v(" "),t("p",[t("strong",[e._v("主要依赖&版本")])]),e._v(" "),t("div",{staticClass:"language-markdown line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-markdown"}},[t("code",[e._v('"electron": "^2.0.6", // latest 4.0.3| beta 5.0.0 | nightly 6.0.0, \n"vue": "^2.5.16",\n"vue-cli": "^2.9.6",\n"vue-electron": "^1.0.6", \n"vue-router": "^3.0.1", \n"vuex": "^3.0.1", \n"vuex-electron": "^1.0.0", \n"iview": "^3.2.2", \n"axios": "^0.18.0"\n')])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br")])]),t("p",[t("strong",[e._v("起步")])]),e._v(" "),t("p",[e._v("P.S. vue-cli 为 2.0 版本")]),e._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 安装 vue-cli 和 脚手架样板代码 ")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v('# 此模板依赖的 electron 默认为"^2.0.6"，需求高版本的可自行更改')]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" -g vue-cli vue init simulatedgreg/electron-vue my-project \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# install dependencies")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# serve with hot reload at localhost:9080")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run dev\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# build electron application for production")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run build\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# pack electron application")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run pack\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br")])]),t("p",[t("strong",[e._v("开发")]),e._v("\n在/src/renderer/ 目录下 进行 vue 项目开发\n打包结果会在build文件夹（还是dist来着具体我忘了）生成几个exe安装程序。\n把exe文件复制到桌面，安装并打开即可。")]),e._v(" "),t("p",[t("strong",[e._v("怎么用electron？")])]),e._v(" "),t("p",[e._v("使用vue-cli脚手架傻瓜式创建一个项目出来，并在/src/renderer/ 目录下 进行 vue 项目开发,\n开发之前先看看"),t("a",{attrs:{href:"https://electronjs.org/docs/api",target:"_blank",rel:"noopener noreferrer"}},[e._v("Electron|API"),t("OutboundLink")],1),e._v("里有没有贴合业务需求的，有就尽量拿来用，没有再自己写,Over.")]),e._v(" "),t("h2",{attrs:{id:"_04-ex-electron结语"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_04-ex-electron结语","aria-hidden":"true"}},[e._v("#")]),e._v(" &04.EX-electron结语")]),e._v(" "),t("p",[e._v("即使我们什么都不写，一个空的electron工程打包完也有20mb左右的大小，我猜这是其内部浏览器的大小。")]),e._v(" "),t("p",[e._v("我们甚至可以说"),t("code",[e._v("electron")]),e._v("就是一个内部封装了一整个"),t("code",[e._v("chrome")]),e._v("的工程。它之所以能适配端系统，就是因为在三个系统上使用的都是同一个chrome浏览器的内核。")]),e._v(" "),t("p",[e._v("我们的electron开发视图也都是在这个内置的浏览器中显示，而不是我们常用的外部真实的浏览器，而且在这个内部浏览器中你也能使用开发者模式进行调试，使用chrome的大部分功能，同时又多了许多与操作系统交互的api。")]),e._v(" "),t("p",[e._v("相当于本来写的项目需要做不同浏览器适配，现在用electron就可以只写chrome的适配（不用IE！！！）。")]),e._v(" "),t("p",[e._v("然后原来是 "),t("strong",[e._v("直接在不定浏览器中访问的方式")]),e._v("改成"),t("strong",[e._v("在一个提供且仅提供chrome浏览器功能的程序中访问业务")]),e._v("。")]),e._v(" "),t("p",[e._v("当然，做窗口分辨率适配还是要的。你可以用它快速地搭建自己的桌面小应用。")]),e._v(" "),t("p",[e._v("最后，我们的需求是既要网页应用也可能要桌面应用，和上级沟通了一哈，选择了下面的"),t("strong",[e._v("第三种方案A")]),e._v("。")]),e._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("方案C\n├─── vue本地开发"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("vue生产发版"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("网页应用\n│   ├── vue迭代版本 ↑\n│   ├── vue外套electron ↓\n└─── electron生产发版"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("桌面应用\n** 一次迭代更新vue"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&")]),e._v("electron，两个都要重新发版静态文件。\n\n方案B\n├─── vue本地开发"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("vue生产发版"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("网页应用"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("close\n│   ├── vue迭代版本 ↑ \n│   ├── vue整体搬迁electron ↓\n│   ├── electron内部开发 ↓\n└─── electron生产发版"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("桌面应用"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("桌面"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&")]),e._v("网页应用\n** 一次迭代更新electron，需要时间搬迁原工程。\n\n方案A\n├─── vue本地开发"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("vue生产发版"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("网页应用\n│   └───vue迭代版本 ↑ \n└─── electron 近空项目生产发版"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("桌面应用\n**"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("打开程序后仅提供vue网页工程的网址访问，类似electron打开一个百度页面的程序窗口"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n** 一次迭代更新vue，Over.\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br"),t("span",{staticClass:"line-number"},[e._v("13")]),t("br"),t("span",{staticClass:"line-number"},[e._v("14")]),t("br"),t("span",{staticClass:"line-number"},[e._v("15")]),t("br"),t("span",{staticClass:"line-number"},[e._v("16")]),t("br"),t("span",{staticClass:"line-number"},[e._v("17")]),t("br"),t("span",{staticClass:"line-number"},[e._v("18")]),t("br"),t("span",{staticClass:"line-number"},[e._v("19")]),t("br"),t("span",{staticClass:"line-number"},[e._v("20")]),t("br"),t("span",{staticClass:"line-number"},[e._v("21")]),t("br")])]),t("p",[e._v("End，因为对electron的业务需优先级不高，所以这个需求也先搁置下来了。我也没做更深入的研究，初识electron就到这了。")]),e._v(" "),t("p",[e._v("以后有时间的话可以用这个做个小程序玩玩。")]),e._v(" "),t("div",{staticClass:"tip custom-block"},[t("p",{staticClass:"custom-block-title"},[e._v("参考链接")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://electronjs.org/docs/tutorial/installation",target:"_blank",rel:"noopener noreferrer"}},[e._v("安装 | Electron"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://electronjs.org/docs/api",target:"_blank",rel:"noopener noreferrer"}},[e._v("Electron | API-目录"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://simulatedgreg.gitbooks.io/electron-vue/content/cn/",target:"_blank",rel:"noopener noreferrer"}},[e._v("简介-electron-vue"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://segmentfault.com/a/1190000013924153",target:"_blank",rel:"noopener noreferrer"}},[e._v("electron 两种打包"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://www.cnblogs.com/buzhiqianduan/p/7620099.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("electron入门心得"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://my.oschina.net/u/2366960/blog/1555020",target:"_blank",rel:"noopener noreferrer"}},[e._v("electron学习历程"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://blog.csdn.net/kongxx/article/details/72356566",target:"_blank",rel:"noopener noreferrer"}},[e._v("electron+webpack2+多入口配置"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://blog.csdn.net/toubennuhai/article/details/53039612",target:"_blank",rel:"noopener noreferrer"}},[e._v("electron去边框&可拖动"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://blog.csdn.net/chenzhigaoa/article/details/80284629",target:"_blank",rel:"noopener noreferrer"}},[e._v("electron打开新窗口"),t("OutboundLink")],1)])])])])},[],!1,null,null,null);s.options.__file="A004.md";n.default=s.exports}}]);